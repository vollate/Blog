{"meta":{"title":"Vollate's Blog","subtitle":"","description":"Personal blog","author":"Vollate","url":"http://blog.vollate.top","root":"/"},"pages":[{"title":"About me","date":"2023-08-31T10:15:23.000Z","updated":"2023-11-14T10:22:13.260Z","comments":true,"path":"about/index.html","permalink":"http://blog.vollate.top/about/index.html","excerpt":"","text":"Coding ç å†œï¼Œ24å²æ˜¯å­¦ç”Ÿ ä¸»ç”¨C++ Environment: GNU/Linux Shell: zsh Editor/IDE: Vimï¼ŒJetbrains å…¨å®¶æ¡¶ Favorite Linux distriubtion: Arch, Debian Habbits è¿½/è¡¥ç•ª è½»å°è¯´ å…»è€fpsé€‰æ‰‹ èººå¹³æ‘¸é±¼"},{"title":"categories","date":"2023-08-31T10:14:48.000Z","updated":"2023-11-14T10:22:13.260Z","comments":false,"path":"categories/index.html","permalink":"http://blog.vollate.top/categories/index.html","excerpt":"","text":""},{"title":"links","date":"2023-08-31T10:45:18.000Z","updated":"2023-11-14T10:22:13.260Z","comments":true,"path":"links/index.html","permalink":"http://blog.vollate.top/links/index.html","excerpt":"","text":""},{"title":"repository","date":"2023-08-31T10:15:34.000Z","updated":"2023-11-14T10:22:13.260Z","comments":false,"path":"repository/index.html","permalink":"http://blog.vollate.top/repository/index.html","excerpt":"","text":""},{"title":"tags","date":"2023-08-31T10:12:46.000Z","updated":"2023-11-14T10:22:13.260Z","comments":false,"path":"tags/index.html","permalink":"http://blog.vollate.top/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"æŠ˜è…¾åšå®¢è®°å½•","slug":"fiddle-blog","date":"2023-11-13T09:02:27.000Z","updated":"2023-11-14T10:22:13.252Z","comments":true,"path":"2023/11/13/fiddle-blog/","permalink":"http://blog.vollate.top/2023/11/13/fiddle-blog/","excerpt":"","text":"Github Action æ ·ä¾‹ æ”¹äº†æ”¹ Hexo å®˜ç½‘çš„: 123456789101112131415161718192021222324252627282930name: Blogon: push: branches: - mainjobs: pages: runs-on: ubuntu-latest permissions: contents: write steps: - uses: actions/checkout@v3 with: token: $&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125; submodules: true - name: Use Node.js 18.x uses: actions/setup-node@v2 with: node-version: &quot;18&quot; - name: Install Dependencies run: npm install - name: Build run: npm run build - name: Deploy uses: peaceiris/actions-gh-pages@v3 with: github_token: $&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125; publish_dir: ./public Github Action ç¦ç”¨ jekyll build å› ä¸ºè¦ç”¨ peaceiris/actions-gh-pages@v3 è¿›è¡Œéƒ¨ç½²ï¼Œä½†æ˜¯ç”¨çš„ Hexo ä¸”å·²ç»åœ¨å…ˆå‰çš„æ“ä½œç¼–è¯‘å®Œæˆï¼Œåªéœ€éƒ¨ç½²åˆ°å¯¹åº”åˆ†æ”¯å³å¯ã€‚ ä¸€å¼€å§‹ä¸çŸ¥é“ debug äº†åŠå¤© è§£å†³æ–¹æ³•åœ¨ä»“åº“é‡Œåˆ›å»ºä¸€ä¸ª.nojekyllæ–‡ä»¶å³å¯,è¿™ä¼šè‡ªåŠ¨ä»…ç”¨ jekyll build ä½¿ç”¨cfåæ— é™redirect åœ¨ namesilo ä¹°çš„åŸŸåï¼Œçªå‘å¥‡æƒ³è¯•è¯•ç”¨ Cloudflare å…è´¹è®¡åˆ’çš„åŸŸåè§£æï¼ˆä¸ºäº†CDNï¼‰ é…å®Œåç‚¸äº†ï¼Œhttp è¯·æ±‚è¿”å› 301 å¯¼è‡´æ— é™ redirectï¼ŒæŸ¥äº†ä¸‹åŸå› å¦‚ä¸‹ï¼š æœåŠ¡å™¨ç«¯ä½¿ç”¨äº†å¼ºåˆ¶HTTPSï¼ŒCloudFlare çš„Flexibleç­–ç•¥åŸç†æ˜¯ï¼šç”¨æˆ·è®¿é—®æ—¶ä½¿ç”¨HTTPSè®¿é—®åˆ°CFçš„èŠ‚ç‚¹ï¼Œç„¶åCFé€šè¿‡HTTPæ–¹å¼å›æºåˆ°ä½ çš„æœåŠ¡å™¨å»è¯»å–æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™å¯¹äºä½ çš„æœåŠ¡å™¨æ¥è¯´ï¼ŒCFå°±æ˜¯è®¿å®¢ï¼Œæ‰€ä»¥æœåŠ¡å™¨è¿”å›çš„çŠ¶æ€éƒ½æ˜¯ 301ã€‚è§£å†³æ–¹æ³•å¾ˆç®€å•ï¼Œå°† SSL ç­–ç•¥è®¾ä¸º Full æˆ–è€… Full(strict) å°±èƒ½è§£å†³ã€‚ Vanishvzone.me/897 ä¸Šå¤§å­¦ä¸Šçš„.jpg","categories":[{"name":"Network","slug":"Network","permalink":"http://blog.vollate.top/categories/Network/"}],"tags":[{"name":"Fiddle","slug":"Fiddle","permalink":"http://blog.vollate.top/tags/Fiddle/"}]},{"title":"More Effecitve C++","slug":"more-effecitve-cpp","date":"2023-11-08T08:21:57.000Z","updated":"2023-11-14T10:22:13.256Z","comments":true,"path":"2023/11/08/more-effecitve-cpp/","permalink":"http://blog.vollate.top/2023/11/08/more-effecitve-cpp/","excerpt":"","text":"ä¸èƒ½ç›´æ¥å¾€æ•°ç»„ç±»å®¹å™¨å¡å¤šæ€ç±»ï¼Œä½¿ç”¨æŒ‡é’ˆï¼›ä¸€å®šè¦å¼•ç”¨çš„æƒ…å†µä¸‹ï¼ˆéœ€è¦operator()ï¼‰ç”¨std::reference ç›´æ¥åˆ›å»ºæ•°ç»„æˆ–ç”¨vector,arrayç­‰å®¹å™¨é¢„å…ˆåˆ†é…å¤§å°æ—¶è°ƒç”¨ç±»çš„æ— å‚(é»˜è®¤)æ„é€ å‡½æ•°ï¼Œå› æ­¤å¦‚æœç”¨äº†explictè®°å¾—å£°æ˜æ— å‚æ„é€ å‡½æ•° 1234567//æ²¡æœ‰æ— å‚æ„é€ å‡½æ•°è§£æ³•ï¼ˆåˆ«ç”¨ï¼‰class Ex;void* ptr=operator new[](10*sizeof(Ex));for(int i=0;i!=10;++i) new (&amp;ptr[i]) Ex(...);//call constructor//Free memoryoperator delete(ptr); custom i++&amp;++i for class class foo;int foo operator++();//++iconst int foo operator++(int);//i++ å°½å¯èƒ½ä¸é‡è½½ &amp;&amp;,|| and ,ï¼Œå› ä¸ºä¸æ»¡è¶³çŸ­è·¯é€»è¾‘ æœ‰å…³new, new[],delete,delete[] newæ—¶ï¼Œå…ˆè°ƒç”¨void* operator new(size_t size)åˆ†é…å†…å­˜,ç„¶ååˆå§‹åŒ–å¯¹è±¡å¹¶ä¸”å°†void*è½¬å‹ä¸ºå¯¹åº”ç±»å‹æŒ‡é’ˆ operator new çš„ä¸€ä¸ªé‡è½½:void* operator new(size_t size, void* loaction) å®šä½newå®ç° deleteæ—¶ï¼Œå…ˆè°ƒç”¨ææ„å‡½æ•°ç„¶åoperator delete é‡Šæ”¾å†…å­˜ å¯¹æ•°ç»„: new []è°ƒç”¨operator new[]()åˆ†é…å†…å­˜,ç„¶åä¸ºæ¯ä¸ªå¯¹è±¡è°ƒç”¨æ„é€ å‡½æ•° delete[]åŒç† æ„é€ å‡½æ•°å¼‚å¸¸å¤„ç†(æœªå®Œå…¨æ„é€ å‡½æ•°ä¸ä¼šæ ˆè§£é€€è‡ªåŠ¨ææ„): ä½¿ç”¨try catchè¿›è¡Œæ¸…ç† é˜²æ­¢æˆå‘˜åˆ—è¡¨åˆå§‹åŒ–const pointerå¼‚å¸¸å¯¼è‡´èµ„æºæ³„æ¼çš„æ–¹æ³•(æœªå®Œå…¨æ„é€ æŒ‡é’ˆæ— æ³•ä½¿ç”¨delete): è°ƒç”¨ä¸€ä¸ªbasic exception guaranteeçš„å‡½æ•° ä½¿ç”¨RAIIç±» å¼‚å¸¸ å¼‚å¸¸æ ˆè§£é€€æ—¶è°ƒç”¨ææ„å‡½æ•°å†æŠ›å‡ºå¼‚å¸¸å°†ä¼šå¯¼è‡´ç¨‹åºç›´æ¥ç»ˆæ­¢(call terminate directly kill program) å¼‚å¸¸æ‹·è´æ—¶æŒ‰ç…§é™æ€ç±»å‹æ‹·è´(æ´¾ç”Ÿç±»çš„åŸºç±»å¼•ç”¨æ‹·è´ä¸ºåŸºç±») å¼‚å¸¸æ•è·çš„æ”¯æŒéšå¼è½¬å‹(æŒ‰æŒ‡): ä»»ä½•æŒ‡é’ˆto void*(æå…¶ä¸å»ºè®®ç”¨æŒ‡é’ˆ) æ´¾ç”Ÿç±»è½¬åŸºç±» æ€»æ˜¯æŒ‰catchå…ˆåé¡ºåºæ•è· æŒ‰å¼•ç”¨æ•è·å¯ä»¥å®ç°å¤šæ€ Improve proformance: lazy evaluation: è¿”å›ä¸€ä¸ªç»“æœçš„ä»£ç†ç±»ï¼Œåªæœ‰åœ¨éœ€è¦æ—¶æ‰è¿›è¡Œè®¡ç®— lazy copyï¼š å†™æ—¶å¤åˆ¶ lazy fetchï¼šæ¶‰åŠåˆ°æ•°æ®åº“çš„éƒ¨åˆ† over-eager evaluationï¼šæå‰è®¡ç®—å¹¶å­˜å…¥ç¼“å­˜ï¼Œæˆ–constexprç¼–è¯‘æœŸè®¡ç®— ä¸´æ—¶å¯¹è±¡: ä»…åœ¨æŒ‰å€¼ä¼ é€’å¯¹è±¡æˆ–è€…ä¼ é€’å¸¸é‡å¼•ç”¨å‚æ•°æ—¶äº§ç”Ÿã€‚è¿”å›å¯¹è±¡æ—¶ï¼Œè‹¥ç›´æ¥è¿”å›åˆ™ä¼šæ‹·è´å±€éƒ¨å¯¹è±¡ è¿”å›å€¼ä¼˜åŒ–: è¿”å›æ„é€ å‡½æ•°çš„å‚æ•°ï¼Œè¿™æ ·è¿”å›çš„å¯¹è±¡ä¼šåœ¨è¿”å›çš„ä½œç”¨åŸŸæ„é€ (ç¼–è¯‘å™¨ä¼˜åŒ–) åˆ¤æ–­ç±»æ˜¯å¦åœ¨å †ä¸­(ä¸ºäº†ç¡®å®šèƒ½å¦è°ƒç”¨delete this)ï¼šé‡è½½operator new,operator new[],è®°å½•è¿”å›çš„æŒ‡é’ˆåˆ°ä¸€ä¸ªå›¾ä¸­ï¼Œæ¯æ¬¡åˆ é™¤å‰è¿›è¡ŒæŸ¥æ‰¾æ˜¯å¦åœ¨å †ä¸Š é€‚å½“ä½¿ç”¨ä»£ç†å¯ä»¥ç®€åŒ–æµç¨‹ï¼Œä½†æ˜¯ä¼šåœ¨éšå¼è½¬å‹çš„åœ°æ–¹å‡ºé”™ ç±»å‹æ“¦é™¤:ä½¿ç”¨è™šåŸºç±»(æ¥å£) double dispatch:(é’ˆå¯¹ä¸åŒåŠ¨æ€ç±»å‹çš„å¤šä¸ªobjectäº§ç”Ÿä¸åŒå‰¯ä½œç”¨) è™šå‡½æ•° + RTTIï¼šæ— å°è£…ï¼Œå¯ç»´æŠ¤æ€§ä¸º0 å¤šé‡è™šå‡½æ•°è°ƒç”¨: ç±»ä¼¼æ¨¡æ¿é€’å½’å±•å¼€çš„æ‰‹åŠ¨å®ç°ï¼Œæ¯æ¬¡ç¡®å®šä¸€ä¸ªç±»å‹ï¼Œç„¶åè°ƒç”¨ä¸‹ä¸€ä¸ªè™šå‡½æ•° æ‰‹åŠ¨å®ç°è™šå‡½æ•°è¡¨","categories":[{"name":"C++","slug":"C","permalink":"http://blog.vollate.top/categories/C/"}],"tags":[{"name":"Note","slug":"Note","permalink":"http://blog.vollate.top/tags/Note/"}]},{"title":"CPPéšç¬”","slug":"cpp-essay","date":"2023-11-03T03:20:31.000Z","updated":"2023-11-14T10:22:13.252Z","comments":true,"path":"2023/11/03/cpp-essay/","permalink":"http://blog.vollate.top/2023/11/03/cpp-essay/","excerpt":"","text":"è®°å½•cppç¼–ç¨‹è¿‡ç¨‹ä¸­çš„ä¸€äº›æ€»ç»“å’Œæ„Ÿæƒ³ å«éæ™ºèƒ½æŒ‡é’ˆç±»çš„æ³¨æ„äº‹é¡¹ ä¸ºå«æœ‰æŒ‡é’ˆçš„ç±»çš„å†™å‡½æ•°æ˜¯ä¸€ä¸ªå¾ˆéº»çƒ¦çš„äº‹æƒ…ï¼Œæ€»ç»“äº†ä¸€ä¸‹ç»éªŒ: ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼šéœ€è¦æ£€æŸ¥this!=&amp;thatï¼Œé˜²æ­¢è‡ªæˆ‘èµ‹å€¼åæŠŠè‡ªå·±æ•°æ®åˆ é™¤çš„æƒ…å†µã€‚ æ¶‰åŠåˆ°èµ„æºçš„æŒ‡é’ˆçš„æ‹·è´ï¼Œç§»åŠ¨çš„ï¼šç§»åŠ¨æŒ‡é’ˆå¯èƒ½å¯¼è‡´æ— æ³•æ­£å¸¸é‡Šæ”¾ï¼Œæ‹·è´æŒ‡é’ˆå¯èƒ½å¯¼è‡´å¤–ç•Œä½¿ç”¨æ‚¬ç©ºæŒ‡é’ˆï¼ˆé‡Šæ”¾è¿‡çš„æŒ‡é’ˆï¼‰ æ‰€æœ‰ä¼šç”¨åˆ°è¯¥ç±»å¼•ç”¨/æŒ‡é’ˆçš„éconstæˆå‘˜å‡½æ•°ï¼šåŒç§»åŠ¨æ„é€ ä¸€æ ·éœ€è¦æ£€æŸ¥this!=&amp;thatï¼Œé˜²æ­¢å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­ that æ•°æ®æ”¹å˜å½±å“è‡ªèº«æ•°æ®ã€‚egï¼šå‡è®¾æœ‰ä¸€ä¸ªmStringç±»ï¼Œæœ‰ä¸€ä¸ªinsert(size_t index,size_t count, const mString&amp;)æˆå‘˜æ–¹æ³•ï¼Œå¦‚æœè¿›è¡Œa.insert(0,20,a)è€Œå†…éƒ¨å®ç°ä½¿ç”¨å¾ªç¯æ’å…¥å°±ä¼šå‡ºé—®é¢˜ æ‰€æœ‰ä¼šæ›´æ”¹/ä¾èµ–å¤šä¸ªå®ä¾‹pointerçš„å€¼è¿›è¡Œæ“ä½œçš„å‡½æ•°ã€‚eg:(std::swap) å¸¦è£¸æŒ‡é’ˆçš„ç±»å†™èµ·æ¥éå¸¸å¤´ç–¼ï¼Œä¸€ä¸å°å¿ƒå°±ä¼šå‡ºé—®é¢˜ã€‚å»ºè®®éæåº¦æ€§èƒ½æˆ–ç‰¹æ®Šéœ€æ±‚ï¼ˆå†™é©±åŠ¨ç­‰ï¼‰ï¼Œæˆ–è€…æŠ˜ç£¨é”»ç‚¼è‡ªå·±çš„æƒ…å†µè¿˜æ˜¯ä¹–ä¹–ç”¨æ™ºèƒ½æŒ‡é’ˆå§ã€‚","categories":[{"name":"C++","slug":"C","permalink":"http://blog.vollate.top/categories/C/"}],"tags":[{"name":"Essay","slug":"Essay","permalink":"http://blog.vollate.top/tags/Essay/"}]},{"title":"Effective C++","slug":"effective-cpp","date":"2023-10-05T08:03:48.000Z","updated":"2023-11-14T10:22:13.252Z","comments":true,"path":"2023/10/05/effective-cpp/","permalink":"http://blog.vollate.top/2023/10/05/effective-cpp/","excerpt":"","text":"ä»vimwikiè¿ç§»è¿‡æ¥çš„å¤æ—©ç¬”è®°,ä»”ç»†çœ‹çœ‹å‘ç°å¥½å¤šå¿˜äº†( Items from 1 to 55 å°†cppçœ‹ä½œCï¼Œé¢å‘å¯¹è±¡çš„cppï¼Œæ¨¡æ¿å’ŒSTLå››ä¸ªéƒ¨åˆ†ï¼›æ ¹æ®å„ä¸ªéƒ¨åˆ†çš„ä¸åŒç‰¹æ€§é€‰æ‹©ä¸åŒçš„ç¼–ç¨‹æ–¹å¼ èƒ½ç”¨constï¼Œenumï¼Œinlineå°±åˆ«#define èƒ½ç”¨constå°±ç”¨const ç¡®ä¿ç±»åˆå§‹åŒ–åå†ä½¿ç”¨ å°½å¯èƒ½ä½¿ç”¨åˆ—è¡¨åˆå§‹åŒ–(åŸå› :operator= first call classâ€™s default consturctor to allocate memory and get address, then do variable assigment) é¿å…åˆå§‹åŒ–é¡ºåºé—®é¢˜ï¼ˆæœ‰å…³staticåˆå§‹åŒ–çš„é—®é¢˜ï¼‰ çŸ¥é“é»˜è®¤æ„é€ ï¼Œææ„ï¼Œå¤åˆ¶æ„é€ å‡½æ•° ä¸€æ—¦åˆ›å»ºç§»åŠ¨æ„é€ ||ç§»åŠ¨èµ‹å€¼æ“ä½œç¬¦ï¼Œä¸ä¼šç”Ÿæˆé»˜è®¤å¤åˆ¶æ„é€ &amp;&amp;å¤åˆ¶è¿ç®—ç¬¦ï¼Œåä¹‹äº¦ç„¶ å°å¿ƒä½¿ç”¨é»˜è®¤ç”Ÿæˆçš„ç±»å‡½æ•° è‹¥è¦ä½¿ç”¨å¤šæ€ï¼Œåˆ™åº”å°†åŸºç±»ææ„å‡½æ•°å®šä¹‰ä¸ºvirtual ä¸è¦è®©å¼‚å¸¸ç¦»å¼€ææ„å‡½æ•° ä¸è¦åœ¨æ„é€ å’Œææ„å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•° ä¹Ÿä¸æ˜¯ä¸èƒ½ç”¨ï¼Œæ³¨æ„ç”¨çš„æ—¶å€™çš„ç±»å‹æ˜¯åŸºç±»è¿˜æ˜¯æ´¾ç”Ÿç±»ï¼ˆå®¹æ˜“å‡ºé—®é¢˜æ‰€ä»¥ä¸å»ºè®®ç”¨ï¼‰ é‡è½½è¿ç®—ç¬¦å»ºè®®è¿”å›*thisä»¥ä¾¿è¿ç­‰åŠå…¶å®ƒæ“ä½œ é‡è½½æ“ä½œç¬¦æ—¶è¦è€ƒè™‘è‡ªå·±å¯¹è‡ªå·±æ“ä½œçš„æƒ…å†µ å¤„ç†æ–¹æ³•ï¼š å…ˆåˆ¤æ–­åœ°å€ æ‹·è´åæ“ä½œæ‹·è´ æ‹·è´ï¼ˆå¤åˆ¶è¿ç®—ç¬¦ï¼‰è¦å®Œå…¨å¤åˆ¶ç±»çš„å†…å®¹ï¼ˆåŒ…æ‹¬åŸºç±»çš„ï¼‰ è¦å¤ç”¨ä»£ç ï¼Œä¸è¦ç›¸äº’è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°ï¼Œè€Œæ˜¯å…±åŒè°ƒç”¨ä¸€ä¸ªä¸‰æ–¹å‡½æ•° RAII: use class to manage resource(unique_ptr &amp; share_ptr) RAII object have specified copy function è®¿é—®RAII classæ•°æ®ï¼š éšå¼ï¼šæ›´æ–¹ä¾¿ æ˜¾ç¤ºï¼šæ›´å®‰å…¨ æˆå¯¹ä½¿ç”¨å¯¹åº”çš„ new([]) &amp; delete([]) å•ç‹¬åˆ›å»ºæ™ºèƒ½æŒ‡é’ˆ eg: A(std::unique_ptr&lt;B&gt;(new B), fuc()) æ™ºèƒ½æŒ‡é’ˆåˆ›å»ºéœ€è¦æ¥å— new è¿”å›çš„åœ°å€ï¼Œè€Œç±»æ„é€ å‡½æ•°æ‰§è¡Œé¡ºåºç”±ç¼–è¯‘å™¨å†³å®šï¼Œå¦‚æœfuc throw exception,ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ è®¾è®¡è‰¯å¥½çš„interface å°½å¯èƒ½ä¸è®©ç”¨æˆ·å†™å‡ºå‡ºé”™ä»£ç  å‡å°‘ç”¨æˆ·ç¢°åˆ°ç®¡ç†å†…å­˜çš„å‡ ç‡ shared_ptræ€»æ˜¯ä½¿ç”¨æŒ‡å‘ç±»çš„ææ„å‡½æ•°ï¼Œå¯ä»¥é˜²æ­¢cross-DLL(object creat in a dynamic link library but delete in a differet DLL) å®šä¹‰ç±»å°±æ˜¯å®šä¹‰ç±»å‹ï¼Œå…³æ³¨ä¸€äº›ç»†èŠ‚ å°½é‡ä¼ const&amp;,å¯¹åŸºç¡€ç±»å‹ç›´æ¥ä¼ å€¼(iteratorå®ç°æ˜¯æŒ‡é’ˆï¼Œä¹Ÿç®—) ä¸è¦è¿”å›æŒ‡å‘æœ¬åœ°ä¸´æ—¶å˜é‡çš„æŒ‡é’ˆ å¯¹ç”¨æˆ·éšè—æ•°æ®ï¼Œprotectedæ²¡æ¯”publicåŒ…è£…å¥½åˆ°å“ªå» ä¸ç”¨è®¿é—®dataçš„å°±åˆ«ææˆæˆå‘˜å‡½æ•° ç±»å‹è½¬æ¢éœ€è¦éæˆå‘˜å‡½æ•°(friend) åˆ›å»ºåˆé€‚çš„swapå‡½æ•°ï¼š é»˜è®¤çš„std::swapæ‰§è¡Œä¸‰æ¬¡æ‹·è´æ„é€ -&gt;è§£å†³æ–¹æ¡ˆï¼šæ„é€ wapperç±»ä½¿ç”¨æŒ‡é’ˆæ¥å­˜å‚¨æ•°æ®ï¼Œäº¤æ¢ä»…äº¤æ¢æŒ‡é’ˆï¼Œå¹¶ä¸”æä¾›publicçš„swapæˆå‘˜å‡½æ•° å¦‚æœè¯¥ç±»ä¸æ˜¯æ¨¡æ¿ç±»ï¼Œéœ€è¦å…·ä½“åŒ–std::swapç»™è¯¥ç±»;å¦‚æœè¯¥ç±»æ˜¯æ¨¡æ¿ç±»åˆ™åœ¨namespaceä¸­é‡å†™swapï¼ˆæ¨¡æ¿å‡½æ•°ï¼‰ è°ƒç”¨è§„åˆ™ï¼šusing + using std::swapï¼Œè°ƒç”¨ä¼˜å…ˆçº§ä¸º æ¨¡æ¿swap&gt;å…·ä½“åŒ–std::swap&gt;std::swap,å› æ­¤è®°å¾—using å’Œusing std::swap å°½å¯èƒ½å»¶ç¼“å˜é‡çš„å®šä¹‰ï¼ˆçœ‹æƒ…å†µè€Œå®šï¼‰å¥½å¤„ï¼š - é¿å…æ— ç”¨å˜é‡æ„é€ æ¶ˆè€—æ—¶é—´ï¼ˆthrowä¼šå¯¼è‡´æ— ç”¨ - ä¼˜åŒ–é»˜è®¤æ„é€ +å¤åˆ¶æ„é€ ä¸ºå¤åˆ¶æ„é€  å°½å¯èƒ½ä¸ç”¨castï¼Œå°¤å…¶dynamic_castï¼›å¿…é¡»è¦ç”¨ï¼Œå®šä¹‰å‡½æ•°æ¥éšè—castï¼ˆå°½é‡é¿å…ç”¨æˆ·è‡ªå·±castï¼‰ï¼›å°‘ç”¨cç±»å‹çš„è½¬å‹, c++å››ç§cast const_cast dynamic_cast reinterpret_cast static_cast static_castå­ç±»è½¬æˆçˆ¶ç±»æ—¶æ˜¯äº§ç”Ÿä¸€ä¸ªå­ç±»ä¸­çˆ¶ç±»çš„ä¸´æ—¶æ‹·è´ï¼Œä¿®æ”¹ä¸ä¼šæ˜ å°„åˆ°åŸå­˜å‚¨ castè¦å°å¿ƒï¼Œææ¸…æ¥šè‡ªå·±çš„ç›®çš„ å°½å¯èƒ½é¿å…è¿”å›å¥æŸ„[å¼•ç”¨å’ŒæŒ‡é’ˆ] æŒ‡å‘æ ˆä¸­ä¸´æ—¶å˜é‡ä¼šå¯„æ‰ exception safety: No resource leak No data structures become coorupted exception safety function: Basic guarantee: after throw, everything in program remain valid Strong guarantee: after exception, the program status remain as if the fuction is never called Nothrow guarantee: never throw exception(hard to guarantee out of C part in C++) Strong guarantee implement: make a copy and modify the copy, then swap them in noexception way(But this need more resource and time, though itâ€™s highly recommand, not always need to provide strong guarantee) ä¸€èˆ¬å‡½æ•°éœ€è¦æä¾›è‡³å°‘è¦æœ‰weak exception guarantee(at least no resource leak) inline function rules: limit inline function as small, frequently called functions. å†…è”åˆ«ç”¨æ¨¡æ¿ å…¶å®ƒä¸€äº›ä¸œè¥¿ï¼š ä¸€èˆ¬æ„é€ å’Œææ„å‡½æ•°ä¸æ˜¯å†…è” èƒ½ä¸èƒ½å†…è”ä¸»è¦çœ‹ç¼–è¯‘å™¨ æœ€å°åŒ–ç¼–è¯‘ä¾èµ–å…³ç³»ï¼ˆé€šè¿‡å£°æ˜ï¼‰å¯ä»¥ä½¿ç”¨ï¼š handle class interface class: increase memory cost for virtual function table ç¼–è¯‘æ—¶åªéœ€è¦é‡æ–°é“¾æ¥å‡½æ•°å°±è¡Œ public inheritance means â€œis aâ€(noted that only public do this) ç»§æ‰¿ä¼šéšè—çˆ¶ç±»ï¼ˆä½œç”¨åŸŸï¼‰çš„å˜é‡å’Œå‡½æ•°ï¼ˆå½“ç„¶åç§°ç©ºé—´ä¹Ÿä¼š{ä½¿ç”¨usingè§£é™¤éšè— pure virtual function; virtual function;non-virtual function; ä¸è¦æ‹…å¿ƒè™šå‡½æ•°å¸¦æ¥çš„æŸè€—ï¼ˆå¤§å¤šæ•°æƒ…å†µï¼‰ï¼Œä¹Ÿä¸è¦å…¨æ˜¯è™šå‡½æ•°ï¼ˆä¸€æ ·ï¼‰ pure virtual functionå¯ä»¥åœ¨ç±»å¤–æä¾›å®ç°ï¼Œå¦‚æ­¤å¯ä»¥å¼ºåˆ¶å­ç±»é‡å†™ï¼ˆç®—æ˜¯å¼ºåˆ¶æ³¨æ„å§ï¼‰å¹¶å‡å°‘ä»£ç é‡å¤ 80~20rule:80% running time spend on 20% code ä½¿ç”¨none virtual interface idiom åœ¨åŸºç±»ä»¥ç¡®ä¿å¤šæ€åœ¨ä½•æ—¶è°ƒç”¨å‡½æ•° ä½¿ç”¨å‡½æ•°æŒ‡é’ˆæˆå‘˜ä»£æ›¿è™šå‡½æ•°ï¼ˆå¥½å¤„ï¼šå¯ä»¥æ›´æ”¹è°ƒç”¨çš„å‡½æ•°(åå¤„ï¼šç¼ºå°‘å¯¹épublicå˜é‡çš„è®¿é—®æƒé™ ä½¿ç”¨std::functionæˆå‘˜ä»£æ›¿è™šå‡½æ•° é‡å®šä¹‰éè™šå‡½æ•°å¯èƒ½ä¼šä½¿å¾—å¤šæ€å‡ºç°æ„æƒ³ä¸åˆ°çš„é—®é¢˜(ä»è®¾è®¡ä¸Šæ¥è¯´å°±ä¸åº”è¯¥é‡å®šä¹‰éè™šå‡½æ•°) é»˜è®¤å‚æ•°å€¼ä¸ºé™æ€ç»‘å®šï¼Œä¸åŒäºè™šå‡½æ•°çš„åŠ¨æ€ç»‘å®šï¼Œä¸è¦åœ¨ç»§æ‰¿ä¸­æ”¹å˜é»˜è®¤å€¼ has a &amp; implemented in terms of-- composition private inheritanceå½“ä»…å¿…è¦æ—¶ - both private inheritance and composition mean is-implemented-in-terms-of - composition is easy to understand - private inheritance can enable EBO - empty base optomize(EBO):å½“ä»…å•ç»§æ‰¿ä¸”çˆ¶ç±»æ˜¯ç©ºç±»æ—¶ï¼Œå­ç±»å¤§å°ç­‰äºæ•°æ®å¤§å°(ç¼–è¯‘å™¨ä¼˜åŒ– å¤šç»§æ‰¿å°½é‡åˆ«ç”¨ï¼Œç”¨è¦è€ƒè™‘virtual è™šæ‹Ÿç»§æ‰¿æœ‰æŸè€—ï¼ˆæ¯”èµ·å•ç»§æ‰¿ å¤šç»§æ‰¿ä¾‹å­ï¼špublic interface+private implementation ç±»å’Œæ¨¡æ¿éƒ½æ”¯æŒå¤šæ€ å¯¹äºç±»ï¼Œæ¥å£æ˜¯æ˜ç¡®çš„ï¼Œå¤šæ€å‡ºç°åœ¨è¿è¡Œæ—¶ å¯¹äºæ¨¡æ¿å‚æ•°ï¼Œæ¥å£æ˜¯æ˜ç¡®ä¸”åŸºäºåˆæ³•çš„è¡¨è¾¾å¼çš„ï¼Œå¤šæ€å‡ºç°åœ¨ç¼–è¯‘æ—¶ï¼ˆé€šè¿‡æ¨¡æ¿åˆå§‹åŒ–å’Œå‡½æ•°é‡è½½ï¼‰ typenameå’Œclasså¯ä»¥äº’æ¢ åœ¨ä¸æ¸…æ¥šçš„æƒ…å†µä¸‹ï¼ŒC++é»˜è®¤æŠŠtypename(class):ğŸ˜—**çœ‹æˆå˜é‡è€Œä¸æ˜¯ç±»å‹ï¼Œä½¿ç”¨ typename å‘Šè¯‰ä»–è¿™æ˜¯ä¸ªå˜é‡ç±»å‹ è®¿é—®æ¨¡æ¿åŸºç±»å‡½æ•°çš„ä¸‰ç§æ–¹æ³• ä½¿ç”¨ this æŒ‡é’ˆè°ƒç”¨ using æŒ‡ä»¤ base&lt;T&gt;::**ç›´æ¥ç”¨ æ¨¡æ¿éšå¼å…·ä½“åŒ–å‡ºçš„ä¸ä¾èµ–äºæ¨¡æ¿å‚æ•°çš„å‡½æ•°ä¼šå¯¼è‡´ç¨‹åºè†¨èƒ€ è‹¥ç”±éç±»å‹å‚æ•°å¯¼è‡´ï¼Œå°†æ¨¡æ¿å‚æ•°æ¢ä¸ºå‡½æ•°å‚æ•°æˆ–è€…ç±»æˆå‘˜å˜é‡ è‹¥ç”±ç±»å‹å‚æ•°å¯¼è‡´ï¼Œå¯ä»¥å°†æ•°æ®è½¬åŒ–ä¸º æ— ç±»å‹æŒ‡é’ˆ eg: static_cast&lt;void*&gt; ç„¶åç»Ÿä¸€è°ƒç”¨ åœ¨æ¨¡æ¿ç±»ä¸­ä½¿ç”¨æ¨¡æ¿æˆå‘˜å‡½æ•°æ¥æ¥å—æ‰€æœ‰åˆæ³•å‚æ•° eg: åŒæ¨¡æ¿ä¸åŒå…·ä½“åŒ–ç±»çš„å®ä¾‹åŒ–çš„å¤åˆ¶æ„é€ å‡½æ•°å’Œå¤åˆ¶è¿ç®—ç¬¦ æ³¨æ„ï¼šå³ä½¿å£°æ˜äº†æ¨¡æ¿å¤åˆ¶æ„é€ å‡½æ•°ï¼Œä¹Ÿè¦å£°æ˜ä¸€èˆ¬çš„å¤åˆ¶æ„é€ å‡½æ•° æˆ‘ä¸çŸ¥é“ä»–æƒ³è¯´æ˜å•¥ ç‰¹åŒ–æ¨¡æ¿ç±»ä½¿å…¶å¯¹ç‰¹å®šç±»å‹ä½¿ç”¨ç‰¹å®šå‡½æ•° é€šè¿‡ tyepid() æ£€æŸ¥â€”wrong, canâ€™t compile ç”±äºä¸åŒçš„ç±»å‹æ”¯æŒä¸åŒçš„å‡½æ•°ï¼Œä¸€äº›ä¸æ”¯æŒçš„å‡½æ•°æ— æ³•è¢«ç¼–è¯‘ï¼ˆå³ä½¿if elseæ°¸è¿œä¸ä¼šè¿›å…¥)ç¼–è¯‘è¿‡ç¨‹è¦æ±‚æ‰€æœ‰ä»£ç åˆæ³• é€šè¿‡å’Œå‡½æ•°é‡è½½(ç¼–è¯‘æ—¶) TMP(template metaprogramming) å°†ä¸€éƒ¨åˆ†è¿è¡Œæ—¶å·¥ä½œæ”¾åˆ°ç¼–è¯‘æ—¶è¿›è¡Œ é€šè¿‡ set_new_handler(*new_handler) è‡ªå®šä¹‰newçš„è¡Œä¸º typedef void (*new_handler)() declear in std, use as std::new_handler é€šè¿‡è¿é”è°ƒç”¨åœ¨å¤±è´¥åå°è¯•å…¶ä»– handler åˆ†é…å†…å­˜ï¼Œæœ€åå…¨éƒ¨å¤±è´¥å†throw bad_alloc è‡ªå®šä¹‰ç±»newçš„è¡Œä¸º: modify void* operator new(std::size)throw(std::bad_alloc) and set_new_handler C++93å‰newåˆ†é…å¤±è´¥ä¼šè¿”å›0ï¼Œä½¿ç”¨ new(std::nothrow) æ¥å¯ç”¨è¿™ä¸€è¡Œä¸ºï¼ˆåªä½œç”¨äºå†…å­˜åˆ†é…æ—¶ï¼Œåˆå§‹åŒ–ç›¸å…³å¯¹è±¡ä»å¯èƒ½throw é‡è½½new/deleteæ“ä½œç¬¦çš„å‡ ç§æƒ…å†µ ä¼˜åŒ–æ“ä½œé€Ÿåº¦ æ”¶é›†å†…å­˜ä½¿ç”¨ä¿¡æ¯ å‡å°‘å¼€å¤´å’Œæœ«å°¾çš„å†…å­˜å ç”¨ è‡ªå®šä¹‰å†…å­˜å¯¹é½ å°†ç±»é›†æŸæ‘†æ”¾ å…¶ä»–æœªåˆ—å‡ºnewè¡Œä¸º é‡è½½newå’Œdelete é‡è½½newéœ€è¦ä¸€ä¸ªæ— é™å¾ªç¯æ¥åˆ†é…å†…å­˜ï¼Œå¹¶åœ¨å¤±è´¥æ—¶è°ƒç”¨ set_new_handler æˆ–è€…åˆ†é…0ç©ºé—´å¹¶throw å¯¹äºç±»ç±»å‹ï¼Œåº”è¯¥åˆ†é…æ¯”é¢„æœŸæ›´å¤§ç©ºé—´ deleteå¯¹nullpträ»€ä¹ˆä¹Ÿä¸åšï¼Œå¯¹ç±»ç±»å‹åº”è¯¥åˆ é™¤æ¯”é¢„æœŸæ›´å¤§ç©ºé—´ é‡å†™newäº†è®°å¾—é‡å†™deleteï¼Œå¹¶ä¸”ä¸è¦æ— æ„é—´éšè—äº†é»˜è®¤çš„new&amp;delete æ³¨æ„ç¼–è¯‘è­¦å‘Šï¼Œä¹Ÿä¸è¦è¿‡åº¦ä¾èµ–ç¼–è¯‘å™¨ ç†Ÿæ‚‰æ ‡å‡†åº“ï¼ŒåŒ…æ‹¬ STL(standard template library) Iostream Internationlization(like wchar_t,wstring) numeric provessing(valarray, complex) exception hierarchy C89 standard library tr1(2005,Technical report 1), add smartPointers,function pointers(tr1::function,std::function now)å°±æ˜¯std::expermental::xxx Boost organization and Boost library This is just a begining, C++ learning will never end","categories":[{"name":"C++","slug":"C","permalink":"http://blog.vollate.top/categories/C/"}],"tags":[{"name":"Note","slug":"Note","permalink":"http://blog.vollate.top/tags/Note/"}]},{"title":"Book List","slug":"book-list","date":"2023-09-18T04:18:11.000Z","updated":"2023-11-14T10:22:13.252Z","comments":true,"path":"2023/09/18/book-list/","permalink":"http://blog.vollate.top/2023/09/18/book-list/","excerpt":"","text":"Reading C++ Currency in Action Computer Organzation And Design æ‘†äº† RISCV-privileged Plan To Read Effective Modern C++ C++ Templates ed.2 Shelve Deep learning Finished Name Finish date C++ Primer Plus 2021.12 Effective C++ 2022.7 1984 2022.6 æ²™ä¸˜ 2022.6 èµ„æœ¬è®º 2022.8.1 åœ°é“ç³»åˆ—(203[3,5]) 2022.9.25 More Effective C++ 2023.1.22 The Fast Guide towards Modern C++ 2023.7.15","categories":[],"tags":[{"name":"Book","slug":"Book","permalink":"http://blog.vollate.top/tags/Book/"}]},{"title":"Tool List","slug":"tool-list","date":"2023-03-27T00:17:41.000Z","updated":"2023-11-14T10:22:13.256Z","comments":true,"path":"2023/03/27/tool-list/","permalink":"http://blog.vollate.top/2023/03/27/tool-list/","excerpt":"","text":"æ”¶å½•äº†Linuxä¸‹ä½¿ç”¨çš„ä¸€äº›å·¥å…· Screen Shot/Recorder SimpleScreenRecorder OBS studio Flameshot Cloud Drive Onedrive OnedriveGUI: GUI for client above Proxy Clash Client cfw(closed-source) clash-verge(open-source) æ³¨æ„ Clash å’Œ Clash.Meta æ˜¯å¼€æºè½¯ä»¶ï¼Œclash.Premium ä¸º Clash åŸä½œè€…åœ¨ Clash åŸºç¡€ä¸Šå¼€å‘çš„é—­æºè½¯ä»¶ï¼Œä»‹æ„è¯¯ç”¨ V2ray Client v2rayA(open-source) Diagram drawio Office libreoffice onlyoffice Terminal Resource Monitor btop or bpytop htop","categories":[],"tags":[{"name":"Tools","slug":"Tools","permalink":"http://blog.vollate.top/tags/Tools/"},{"name":"Linux","slug":"Linux","permalink":"http://blog.vollate.top/tags/Linux/"}]},{"title":"æ–‡ç« /é“¾æ¥å½’æ¡£","slug":"blog-archives","date":"2022-11-10T20:10:57.000Z","updated":"2023-11-14T10:22:13.252Z","comments":true,"path":"2022/11/10/blog-archives/","permalink":"http://blog.vollate.top/2022/11/10/blog-archives/","excerpt":"","text":"OS å†…å­˜ç®¡ç† Program CMake export lib oneAPI|DPC++å½’æ¡£ Network GFW report","categories":[{"name":"Archive","slug":"Archive","permalink":"http://blog.vollate.top/categories/Archive/"}],"tags":[{"name":"Archive","slug":"Archive","permalink":"http://blog.vollate.top/tags/Archive/"}]},{"title":"Happy Runner (ä¹é“ä¸è·‘)","slug":"happy-runner","date":"2022-11-03T02:57:19.000Z","updated":"2023-11-14T10:22:13.256Z","comments":true,"path":"2022/11/03/happy-runner/","permalink":"http://blog.vollate.top/2022/11/03/happy-runner/","excerpt":"","text":"Requirement ä¸€éƒ¨rootäº†çš„å®‰å“æ‰‹æœº(è§£ä¸äº†blçš„å¯ä»¥è¯•è¯•å¤ªæ) å¦‚ä½•rootå»ºè®®google,æ®è¯´å°ç±³å¼€æ¨¡ç³Šå®šä½ä¸rootä¹Ÿè¡Œï¼Œä½†æ˜¯æ²¡è¯•è¿‡(æ²¡æœ‰æ²¡rootçš„æ‰‹æœº) Steps ä¸‹è½½fake locationï¼Œé“¾æ¥æŒ‚äº†å°±ä¸Š github æœ ä¹°é«˜çº§ç‰ˆ (èŠ±é’±) è®¾ç½®é‡Œé¢æŠŠåœ°å›¾æ¢æˆç™¾åº¦ è·¯çº¿æ¨¡æ‹Ÿé‡Œé¢ç”»è·¯çº¿ï¼Œå»ºè®®æŠŠæ¯ä¸ªå¯èƒ½çš„æ‰“å¡ç‚¹éƒ½è¿‡ä¸€é ç°åœ¨ä¸ç”¨æ‰“å¡äº†,å·®ä¸å¤šå°±è¡Œï¼Œæ³¨æ„åˆ«è¶…è¿‡å•æ¬¡æœ€å¤§è·¯ç¨‹ å¼€å¯è·¯çº¿æ¨¡æ‹Ÿå’Œä¹è·‘ï¼Œè®¾ç½®é€Ÿåº¦(æ³¨æ„åˆ«å¤ªå¿«äº†)ï¼Œå»ºè®®å¼€å¯æµ®åŠ¨é€Ÿåº¦å’Œæ¨¡æ‹Ÿæ­¥é¢‘ è®°å¾—åˆ°æ—¶é—´æ¥å…³ä¹è·‘å…å¾—è¶…æ—¶ é—®é¢˜æ’æŸ¥ å¼€äº†æ¨¡æ‹Ÿæ²¡ååº”: æ¢è¿è¡Œæ¨¡å¼(root/no root) ä¹è·‘é—ªé€€(rootäº†çš„æ‰‹æœº/æ¨¡æ‹Ÿå™¨): å¯¹ä¹è·‘éšè—root(Magisk/fake location å†…ç½®) ç›®å‰æœ€æ–°ç‰ˆä¹è·‘å¥½åƒä¸èƒ½åœ¨æ¨¡æ‹Ÿå™¨ä¸­è¿è¡Œï¼Œå¤§æ¦‚æ˜¯æ£€æµ‹æ¨¡æ‹Ÿå™¨ï¼Ÿ å…¶ä»–: çœ‹æ–‡æ¡£, googleï¼Œæˆ‘æœ‰ä¸€ä¸ªæœ‹å‹ æœ¬æ•™ç¨‹ä»…ä¾›å‚è€ƒï¼Œä½¿ç”¨æœ‰é£é™©ï¼Œå¯¹äºæŒ‰ç…§æœ¬æ•™ç¨‹æ“ä½œé€ æˆè¢«æ£€æµ‹ç­‰ç­‰é—®é¢˜æ¦‚ä¸è´Ÿè´£","categories":[{"name":"Tips","slug":"Tips","permalink":"http://blog.vollate.top/categories/Tips/"}],"tags":[{"name":"Magic","slug":"Magic","permalink":"http://blog.vollate.top/tags/Magic/"}]},{"title":"First Post","slug":"first-post","date":"2022-10-01T03:12:59.000Z","updated":"2023-11-14T10:22:13.256Z","comments":true,"path":"2022/10/01/first-post/","permalink":"http://blog.vollate.top/2022/10/01/first-post/","excerpt":"","text":"æ€»ç®—æ•´äº†ä¸ªèƒ½çœ‹çš„blogç•Œé¢ ä¹‹å‰æ­å›¾åºŠç„¶åç–¯ç‹‚æŠ¥é”™ æœ€åå‘ç°å‘ç°è®¾ç½®nginxçš„æ—¶å€™locationæ‹¼é”™äº†~~(ä¸å¼€é«˜äº®çš„ä¸‹åœº)~~ æ€»ä¹‹æ£é¼“äº†å¿«ä¸€ä¸ªæœˆæƒ³èµ·æ¥å¼„ä¸€ä¸‹æ–­æ–­ç»­ç»­çš„ç»ˆäºé…å¥½äº†","categories":[],"tags":[]}],"categories":[{"name":"Network","slug":"Network","permalink":"http://blog.vollate.top/categories/Network/"},{"name":"C++","slug":"C","permalink":"http://blog.vollate.top/categories/C/"},{"name":"Archive","slug":"Archive","permalink":"http://blog.vollate.top/categories/Archive/"},{"name":"Tips","slug":"Tips","permalink":"http://blog.vollate.top/categories/Tips/"}],"tags":[{"name":"Fiddle","slug":"Fiddle","permalink":"http://blog.vollate.top/tags/Fiddle/"},{"name":"Note","slug":"Note","permalink":"http://blog.vollate.top/tags/Note/"},{"name":"Essay","slug":"Essay","permalink":"http://blog.vollate.top/tags/Essay/"},{"name":"Book","slug":"Book","permalink":"http://blog.vollate.top/tags/Book/"},{"name":"Tools","slug":"Tools","permalink":"http://blog.vollate.top/tags/Tools/"},{"name":"Linux","slug":"Linux","permalink":"http://blog.vollate.top/tags/Linux/"},{"name":"Archive","slug":"Archive","permalink":"http://blog.vollate.top/tags/Archive/"},{"name":"Magic","slug":"Magic","permalink":"http://blog.vollate.top/tags/Magic/"}]}